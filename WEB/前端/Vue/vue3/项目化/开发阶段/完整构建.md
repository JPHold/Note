| 特性                                               | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| -------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Vue SFC 演练场](https://sfc.vuejs.org/)           | 界面化操作，非整体环境。用于尝试新功能，查看bug                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [StackBlitz 中的 Vue + Vite](https://vite.new/vue) | 整体IDE环境，完全代码化；vue+vite                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 脚手架，搭建项目                                   | <br>1. 推荐使用[Vite](https://cn.vuejs.org/guide/scaling-up/tooling.html#vite)<br>2. 不推荐使用[VUE-CLI](https://cn.vuejs.org/guide/scaling-up/tooling.html#vue-cli)，已经进入维护期了                                                                                                                                                                                                                                                                                                   |
| 模板在浏览器编译还是预编译的问题                   | <br>1. 不使用构建工具：在Html写组件模块、内联的JavaScript字符串，就会在浏览器运行模板编译器（大概增加14kb大小）；<br>2. 使用构建工具，默认都是预编译，不会携带编译器到浏览器（性能好，速度快）<br>&nbsp&nbsp当然也可以多种类型：[构建js包](https://unpkg.com/browse/vue@3.2.47/dist/) （选择方法：前缀为 `vue.runtime.*` 的文件是**只包含运行时的版本**：不包含编译器。不包含 `.runtime` 的文件则是**完全版**：即包含了编译器，并支持在浏览器中直接编译模板。体积也会因此增长大约 14kb） |
| 语法提示、高亮                                     | <br>volar，使用vscode全局安装，语法高亮、TypeScript 支持，以及模板内表达式与组件 props 的智能提示。**但不支持import方法提示**                                                                                                                                                                                                                                                                                                                                                                                |
| 代码规范                                                   | <br>Eslint+Error Lens（直接在每行后面提示整改意见），使用vscode全局安装，并且每个项目还得初始化配置才能使用；**注意：右键format会直接修改代码成整改意见**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 格式化 | volar、Prettier、Eslint、vscode自带的都支持 |
| 测试 |<br>1. 测试流程：白盒测试（单元测试）、黑盒测试（组件测试、集成测试）、E2E（端到端测试）<br>2. **每个组件都要有对应的测试文件**<br>3. 测试框架：[[#vitest框架]]、Peeky<br>3. 测试 |


# 测试

## vitest框架
以vite框架+vscode开发工具为例

### 原生界面方式
1. 安装vitest插件
2. 在每个项目目录下，执行：`npm install -D vitest happy-dom @testing-library/vue`
3. 修改vite.config.js，配置别名：
```js
// vite.config.js
import { defineConfig } from 'vite'

export default defineConfig({
  // ...
  test: {
    // 启用类似 jest 的全局测试 API
    globals: true,
    // 使用 happy-dom 模拟 DOM
    // 这需要你安装 happy-dom 作为对等依赖（peer dependency）
    environment: 'happy-dom'
  }
})
```
4. 修改package.json，配置运行指令
```json
{
  // ...
  "scripts": {
    "test": "vitest"
  }
}
```
5. **在顶层目录下新建test目录，所有测试文件都放在这里**
6. 文件格式以`*.test.js`为后缀
7. `npm test`指令执行；或在vscode可通过NPM SCRIPT栏，手动点击。会自动执行所有测试文件，并且常驻任务
![[Pasted image 20230320110702.png]]
8. **你修改哪个测试文件，test任务就会自动执行当前测试**


### 界面方式
[[#原生界面方式]] 很麻烦，需要敲命令
[Vitest UI](https://cn.vitest.dev/guide/ui.html#vitest-ui)

1. `npm i -D @vitest/ui`
2. 修改package.json，配置运行指令
```json
{
  // ...
  "scripts": {    
	  "test:ui": "vitest --ui"
  }
}
```
3. 会自动打开默认浏览器，展示测试页面
![[Pasted image 20230321103536.png]]
4. 支持在线修改
5. 点击运行，vscode的控制台会打印出测试内容（`default`模式）
6. 默认是输出到控制台，可以改成输出html



### 其它指令

运行一次：`"test:run": "vitest run"`
运行指定测试：``

## Peeky框架
**github已经很久没更新了，没必要再使用**
1. `npm i -D @peeky/test` 命令行方式
3. 在`package.json`的script下增加执行命令，一个是界面，一个是后台测试任务监听
```json
    "test:open": "peeky open",
    "test": "peeky run"
```

3. 必须得有第二步的`test:open`脚本，`npm run test:open` 界面方式
4. 以`.spec.js`为开头，创建测试文件

**如何怎么测试，都没有成功打印测试结果，也没有打开浏览器展示测试界面**
参考：[peeky官方教程](https://peeky.dev/guide/#getting-started)
[github上peeky的例子](https://github.com/Akryum/peeky/tree/master/examples/vue3)

----
上面的都是基于开发阶段的测试，上了正式之后，需要E2E测试（端到端测试），是真实用户在浏览器上的真实操作
Cypress