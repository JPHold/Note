[TOC]

# 生成镜像
有三种方式
1. 远程库拉取
`docker pull`

2. 容器反向生成
一般不会使用，毕竟容器是运行的，无法保证生成的镜像都一样，无法重现。但可以在构建器镜像中使用

3. Dockerfile本地生成
`docker build .`

# 构建环境
需具备这些要求：
-   通过限制对构建环境的直接访问来确保安全
    
-   限制对配置和触发构建的访问
    
-   限制对构建源的访问
    
-   限制对基础镜像的访问，即在`FROM`Dockerfile 行中引用的那些镜像
    
-   提供对构建日志的访问
    
-   提供某种类型的管道或工作流，与外部服务集成以触发构建、报告结果等。
    
-   提供了一种测试构建图像的方法
    
-   提供了一种重现构建的方法
    
-   提供一个安全的注册表来存储构建
    
-   提供一种机制来促进经过测试的构建
    
-   与目标生产运行时环境共享相同的内核

现成方案：
1. Jenkins
2. gitlab的runner