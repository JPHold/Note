
[TOC]

前提阅读
使用非root用户启动docker守护进程

# docker支持如下存储驱动程序

如果没有配置使用哪个驱动，docker有自己的优先级菜单(https://github.com/moby/moby/blob/20.10/daemon/graphdriver/driver_linux.go#L52-L53)


| 名称           | 描述                                                                                                                                  |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| overlay2       | 所有支持linux发行版的首选，无须其他配置                                                                                               |
| aufs           | 因为有些系统是ubuntu 14.04(内核3.13)，不支持overlay2。所以docker18.06版本及以前版本的首选                                             |
| fuse-overlayfs | 非root启动的docker守护进程，才使用这种方式， Rootless mode documentation，https://docs.docker.com/engine/security/rootless/           |
| devicemapper   | centos和phel的首选，但正式环境需要direct-lvm，因为loopback-lvm性能差。以前这两系统是不支持overlay2的(内核4.0以上才支持)，现在是支持的 |
| btrfs 、 zfs   | 作为备份驱动程序，支持一些高级配置，如快照                                                                                            |
| vfs            | 性能差，不能在生产环境使用。测试目的或不能使用写拷贝的文件系统                                                                        |