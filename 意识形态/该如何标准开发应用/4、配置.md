[TOC]

[III. 配置](https://12factor.net/zh_cn/config)

# 定义
不同部署下，采用的配置是不一样的，**因此不能将配置写死在代码中，这两者要严格分离**

判断应用是否遵循这个规定的方法：**是否可以马上开源出去，而不用担心敏感信息暴露**

这里说的配置是动态信息方面的配置，而不是像spring的依赖配置(@AutoWired)等框架配置

# 配置应该放在哪里
不推荐[[#存在环境变量]]
最推荐[[#统一管理配置 推荐]]
次推荐[[#放在每个框架推荐的配置文件中 推荐]]。[坑的地方](1. 有些同事会将修改后的dev环境配置提交到代码库，导致本机部署具有危险性。比如在dev环境使用正式库，假如我check out后，去测试新增功能，就不小心保存到正式库；2. 还会增加沟通时间，毕竟你提交了，导致每次都要merge，我总要纠正你吧)

## 放在每个框架推荐的配置文件中(推荐)
Spring是放在.properties
SpringBoot是放在.yml
可以看出每个应用框架采用的格式是不一样的

这个12准则规范建议：不要纳入版本控制，甚至建议放在[[#存在环境变量中]](这样考虑的目的：觉得这些配置文件可以乱放、格式又不同、会不小心提交到代码库、无法统一管理和统一部署) ^a3b7a4

## 存在环境变量
好处：每次部署，只需要修改环境变量即可完成平滑部署

## 统一管理配置(推荐)
这是我自己的经验
比如携程的Apollo，解决[[#^a3b7a4]]列出的缺点